<div>
        <mat-progress-bar mode="indeterminate" *ngIf="loading"></mat-progress-bar>
        <div *ngIf="!loading" class="flex-container" fxLayoutAlign="center center">
            <mat-card flex="100">
                <mat-card-title *ngIf="showToolbar">
                    <mat-toolbar style="background: none;">
                        <mat-icon style="vertical-align: bottom">search</mat-icon>
                        <td-search-box #searchBox style="width: 100%;margin-right: 18px;" placeholder="Filter" (searchDebounce)="search($event)"
                            [showUnderline]="true" [alwaysVisible]="true" searchIcon="" flex>
                        </td-search-box>
                    </mat-toolbar>
                </mat-card-title>
                <mat-card-content>
                    <td-data-table #dataTable
                    [data]="filteredData"
                    [columns]="columns"
                    [clickable]="true"
                    [sortable]="true"
                    [sortOrder]="sortOrder"
                    [sortBy]="sortBy"
                    (sortChange)="sort($event)"
                    (rowClick)="onRowClick($event)">
                        <div class="md-padding" *ngIf="!dataTable.hasData" layout="row" layout-align="center center">
                            <h3>No results to display.</h3>
                        </div>
                        <ng-content></ng-content>
                    </td-data-table>
                    <!-- paging not working because of this bug in mat-select https://github.com/angular/material2/issues/11063 -->
                    <td-paging-bar #pagingBar 
                        [firstLast]="false"
                        [pageSize]="pageSize"
                        [total]="filteredTotal"
                        (change)="pageSizeChange($event)">
                            <span hide-xs>Rows per page:</span>
                            <mat-select [style.width.px]="50" [(ngModel)]="pageSize">
                                <mat-option *ngFor="let size of allowedPageSize" [value]="size">
                                    {{size}}
                                </mat-option>
                            </mat-select>
                            {{pagingBar.range}}
                            <span hide-xs *ngIf="showTotal">of {{pagingBar.total}}</span>
                    </td-paging-bar>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
